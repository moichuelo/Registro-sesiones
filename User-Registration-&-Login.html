
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentación del proyecto Registro (DeepWiki dump)">
      
      
      
      
        <link rel="prev" href="Authentication-%26-Authorization.html">
      
      
        <link rel="next" href="JWT-Token-Management.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>User Registration & Login - DeepWiki — Registro</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#user-registration-login" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="DeepWiki — Registro" class="md-header__button md-logo" aria-label="DeepWiki — Registro" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepWiki — Registro
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Registration & Login
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="DeepWiki — Registro" class="md-nav__button md-logo" aria-label="DeepWiki — Registro" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeepWiki — Registro
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Getting-Started.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Architecture-Overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="System-Components.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Technology-Stack.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technology Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Request-Processing-Pipeline.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Request Processing Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Application-Bootstrap.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Bootstrap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Routing System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Routing System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Routing-System.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Routing System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Public-Routes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Public Routes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Protected-Routes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Protected Routes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="API-Endpoints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Authentication & Authorization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Authentication & Authorization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Authentication-%26-Authorization.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication & Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    User Registration & Login
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="User-Registration-%26-Login.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    User Registration & Login
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registration Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registration-form-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Form Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registration-request-processing-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Request Processing Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-validation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Input Validation Rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Password Hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-image-upload" class="md-nav__link">
    <span class="md-ellipsis">
      Profile Image Upload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-insertion" class="md-nav__link">
    <span class="md-ellipsis">
      Database Insertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#login-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Login Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Login Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#login-form-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Login Form Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-authentication-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Login Authentication Sequence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credential-verification-process" class="md-nav__link">
    <span class="md-ellipsis">
      Credential Verification Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt-payload-construction" class="md-nav__link">
    <span class="md-ellipsis">
      JWT Payload Construction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-cookie-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Session Cookie Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rate-limiting-protection" class="md-nav__link">
    <span class="md-ellipsis">
      Rate Limiting Protection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-schema-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Database Schema Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Schema Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usuarios-table-structure" class="md-nav__link">
    <span class="md-ellipsis">
      usuarios Table Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-and-user-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and User Feedback
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling and User Feedback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registration-error-display" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Error Display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-error-display" class="md-nav__link">
    <span class="md-ellipsis">
      Login Error Display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#success-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Success Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-vs-login-flow-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Registration vs Login Flow Comparison
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Key Dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Related Endpoints
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="JWT-Token-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JWT Token Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="verifyToken-Middleware.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    verifyToken Middleware
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Security-Measures.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Measures
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Real-time Communication System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Real-time Communication System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Real-time-Communication-System.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Real-time Communication System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Socket.IO-Server-Setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Socket.IO Server Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="WebSocket-Authentication.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebSocket Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Room-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Room Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Message-Handling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message Handling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Product-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Product Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Support Chat System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Support Chat System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Support-Chat-System.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support Chat System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="User-Chat-Interface.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Chat Interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Admin-Chat-Interface.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin Chat Interface
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PDF Generation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            PDF Generation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PDF-Generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDF Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Puppeteer-PDF-Generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Puppeteer PDF Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PDFKit-PDF-Generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDFKit PDF Generation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Internationalization-%28i18n%29.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Internationalization (i18n)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    View Layer & Templates
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            View Layer & Templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Template-Structure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Partial-Components.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partial Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Page-Views.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Page Views
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Static-Assets-%26-Styling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Static Assets & Styling
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Database Schema
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Database Schema
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Database-Schema.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="usuarios-Table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    usuarios Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="productos-Table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    productos Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mensajes-Table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mensajes Table
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="API-Reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="HTTP-Endpoints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="WebSocket-Events.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebSocket Events
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Deployment-%26-Configuration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment & Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    README
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registration Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registration-form-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Form Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#registration-request-processing-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Request Processing Diagram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-validation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Input Validation Rules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Password Hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile-image-upload" class="md-nav__link">
    <span class="md-ellipsis">
      Profile Image Upload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-insertion" class="md-nav__link">
    <span class="md-ellipsis">
      Database Insertion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#login-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Login Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Login Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#login-form-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Login Form Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-authentication-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Login Authentication Sequence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#credential-verification-process" class="md-nav__link">
    <span class="md-ellipsis">
      Credential Verification Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt-payload-construction" class="md-nav__link">
    <span class="md-ellipsis">
      JWT Payload Construction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-cookie-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Session Cookie Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rate-limiting-protection" class="md-nav__link">
    <span class="md-ellipsis">
      Rate Limiting Protection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-schema-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Database Schema Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Schema Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usuarios-table-structure" class="md-nav__link">
    <span class="md-ellipsis">
      usuarios Table Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-and-user-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and User Feedback
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling and User Feedback">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#registration-error-display" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Error Display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#login-error-display" class="md-nav__link">
    <span class="md-ellipsis">
      Login Error Display
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#success-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Success Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-vs-login-flow-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Registration vs Login Flow Comparison
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Key Dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Related Endpoints
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="user-registration-login">User Registration &amp; Login<a class="headerlink" href="#user-registration-login" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>Relevant source files</strong>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/package-lock.json">package-lock.json</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/public/css/style.css">public/css/style.css</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js">src/router.js</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/admin.ejs">views/admin.ejs</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/index.ejs">views/index.ejs</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs">views/register.ejs</a></p>
</blockquote>
<p>This page documents the user registration and login flows, including form validation, password hashing with bcrypt, profile image upload, JWT token generation, and session cookie management. These authentication mechanisms serve as the entry points to the system's protected resources.</p>
<p>For information about JWT token structure and management, see <a href="JWT-Token-Management.html">JWT Token Management</a>. For details on how authentication is enforced on protected routes, see <a href="verifyToken-Middleware.html">verifyToken Middleware</a> and <a href="verifyAdmin-Middleware.html">verifyAdmin Middleware</a>. For broader security measures including rate limiting, see <a href="Security-Measures.html">Security Measures</a>.</p>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The system implements two primary authentication endpoints:</p>
<table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Purpose</th>
<th>Middleware</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/registro</code></td>
<td>GET</td>
<td>Renders registration form</td>
<td>None</td>
</tr>
<tr>
<td><code>/register</code></td>
<td>POST</td>
<td>Processes registration</td>
<td><code>upload.single("profileImage")</code>, validation middleware</td>
</tr>
<tr>
<td><code>/login</code></td>
<td>GET</td>
<td>Renders login form</td>
<td>None</td>
</tr>
<tr>
<td><code>/auth</code></td>
<td>POST</td>
<td>Processes login</td>
<td><code>limiter</code> (rate limiting)</td>
</tr>
</tbody>
</table>
<p>Both flows interact with the <code>usuarios</code> table in MySQL and use bcryptjs for password security. Successful login generates a JWT token stored in an HTTP-only cookie.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L75-L80">src/router.js L75-L80</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484">src/router.js L414-L484</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></p>
<hr />
<h2 id="registration-flow">Registration Flow<a class="headerlink" href="#registration-flow" title="Permanent link">&para;</a></h2>
<h3 id="registration-form-structure">Registration Form Structure<a class="headerlink" href="#registration-form-structure" title="Permanent link">&para;</a></h3>
<p>The registration form is rendered by the <code>views/register.ejs</code> template and accepts the following inputs:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Input Type</th>
<th>Validation</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>user</code></td>
<td>text</td>
<td>min 4 characters</td>
<td>Yes</td>
</tr>
<tr>
<td><code>name</code></td>
<td>text</td>
<td>min 4 characters</td>
<td>Yes</td>
</tr>
<tr>
<td><code>rol</code></td>
<td>select</td>
<td>admin/user</td>
<td>Yes</td>
</tr>
<tr>
<td><code>pass</code></td>
<td>password</td>
<td>min 4 characters</td>
<td>Yes</td>
</tr>
<tr>
<td><code>email</code></td>
<td>text</td>
<td>valid email format</td>
<td>Yes</td>
</tr>
<tr>
<td><code>edad</code></td>
<td>text</td>
<td>numeric</td>
<td>Yes</td>
</tr>
<tr>
<td><code>profileImage</code></td>
<td>file</td>
<td>image format</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>The form submits to <code>POST /register</code> with <code>enctype="multipart/form-data"</code> to support file uploads.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L7-L41">views/register.ejs L7-L41</a></p>
<h3 id="registration-request-processing-diagram">Registration Request Processing Diagram<a class="headerlink" href="#registration-request-processing-diagram" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>sequenceDiagram
  participant Client Browser
  participant POST /register
  participant (src/router.js)
  participant upload.single()
  participant (multerConfig)
  participant express-validator
  participant body() chains
  participant bcrypt.hash()
  participant MySQL usuarios
  participant views/register.ejs

  Client Browser-&gt;&gt;POST /register: "POST /register"
  POST /register-&gt;&gt;upload.single(): "Process file upload"
  upload.single()-&gt;&gt;upload.single(): "Save to public/uploads/"
  upload.single()--&gt;&gt;POST /register: "req.file populated"
  POST /register-&gt;&gt;express-validator: "Validate fields"
  express-validator-&gt;&gt;express-validator: "Check min lengths, email, numeric"
  loop ["Validation Errors"]
    express-validator--&gt;&gt;POST /register: "errors array"
    POST /register-&gt;&gt;views/register.ejs: "Render with validaciones"
    views/register.ejs--&gt;&gt;Client Browser: "HTML with error alerts"
    express-validator--&gt;&gt;POST /register: "No errors"
    POST /register-&gt;&gt;bcrypt.hash(): "hash(pass, 8)"
    bcrypt.hash()--&gt;&gt;POST /register: "passwordHash"
    POST /register-&gt;&gt;MySQL usuarios: "INSERT INTO usuarios"
    MySQL usuarios--&gt;&gt;POST /register: "results"
    POST /register-&gt;&gt;views/register.ejs: "Render with alert=true"
    views/register.ejs--&gt;&gt;Client Browser: "SweetAlert success + redirect"
  end</code></pre>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484">src/router.js L414-L484</a></p>
<h3 id="input-validation-rules">Input Validation Rules<a class="headerlink" href="#input-validation-rules" title="Permanent link">&para;</a></h3>
<p>The registration endpoint uses <code>express-validator</code> with the following validation chains defined at <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L415-L428">src/router.js L415-L428</a></p>
<p>:</p>
<div class="highlight"><pre><span></span><code>body(&quot;user&quot;).exists().isLength({ min: 4 })
body(&quot;name&quot;).isLength({ min: 4 })
body(&quot;pass&quot;).isLength({ min: 4 })
body(&quot;email&quot;).isEmail()
body(&quot;edad&quot;).isNumeric()
</code></pre></div>
<p>When validation fails, the form is re-rendered with:</p>
<ul>
<li><code>validaciones</code> array containing error messages</li>
<li><code>valores</code> object preserving user input</li>
<li>Bootstrap alert components displaying errors</li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L415-L428">src/router.js L415-L428</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L430-L441">src/router.js L430-L441</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L44-L56">views/register.ejs L44-L56</a></p>
<h3 id="password-hashing">Password Hashing<a class="headerlink" href="#password-hashing" title="Permanent link">&para;</a></h3>
<p>Passwords are hashed using <code>bcryptjs</code> with a salt rounds value of 8:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">passwordHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">bcrypt</span><span class="p">.</span><span class="nx">hash</span><span class="p">(</span><span class="nx">pass</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">);</span>
</code></pre></div>
<p>The hashed password is stored in the <code>usuarios.pass</code> column. Original plaintext passwords are never stored.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L453-L453">src/router.js L453</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/package-lock.json#L523-L531">package-lock.json L523-L531</a></p>
<h3 id="profile-image-upload">Profile Image Upload<a class="headerlink" href="#profile-image-upload" title="Permanent link">&para;</a></h3>
<p>Profile images are handled by <code>multer</code> middleware configured in <code>src/middlewares/multerConfig.js</code>:</p>
<ul>
<li>Files are saved to <code>public/uploads/</code> directory</li>
<li>Filename is available in <code>req.file.filename</code></li>
<li>If no file is uploaded, <code>profileImage</code> is set to <code>null</code></li>
<li>The filename (not the binary data) is stored in <code>usuarios.imagen</code> column</li>
</ul>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L19-L19">src/router.js L19</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L414">src/router.js L414</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L450-L450">src/router.js L450</a></p>
<h3 id="database-insertion">Database Insertion<a class="headerlink" href="#database-insertion" title="Permanent link">&para;</a></h3>
<p>The registration data is inserted into the <code>usuarios</code> table:</p>
<div class="highlight"><pre><span></span><code><span class="n">db</span><span class="p">.</span><span class="n">query</span><span class="p">(</span><span class="ss">&quot;INSERT INTO usuarios SET ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="k">user</span><span class="p">,</span>
<span class="w">    </span><span class="n">nombre</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="n">rol</span><span class="p">:</span><span class="w"> </span><span class="n">rol</span><span class="p">,</span>
<span class="w">    </span><span class="n">pass</span><span class="p">:</span><span class="w"> </span><span class="n">passwordHash</span><span class="p">,</span>
<span class="w">    </span><span class="n">imagen</span><span class="p">:</span><span class="w"> </span><span class="n">profileImage</span>
<span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="n">callback</span><span class="p">)</span>
</code></pre></div>
<p>Upon successful insertion, a SweetAlert popup displays "El usuario se ha registrado correctamente" with a 2.5 second timer before redirecting to the homepage.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L456-L481">src/router.js L456-L481</a></p>
<hr />
<h2 id="login-flow">Login Flow<a class="headerlink" href="#login-flow" title="Permanent link">&para;</a></h2>
<h3 id="login-form-structure">Login Form Structure<a class="headerlink" href="#login-form-structure" title="Permanent link">&para;</a></h3>
<p>The login form at <code>views/login.ejs</code> is minimal, requesting only:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Input Type</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>user</code></td>
<td>text</td>
<td>Yes</td>
</tr>
<tr>
<td><code>pass</code></td>
<td>password</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>The form submits to <code>POST /auth</code>.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L75-L77">src/router.js L75-L77</a></p>
<h3 id="login-authentication-sequence">Login Authentication Sequence<a class="headerlink" href="#login-authentication-sequence" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>
</code></pre></div>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></p>
<h3 id="credential-verification-process">Credential Verification Process<a class="headerlink" href="#credential-verification-process" title="Permanent link">&para;</a></h3>
<p>The authentication process at <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></p>
<p>performs the following steps:</p>
<ol>
<li><strong>Input validation</strong>: Checks that both <code>user</code> and <code>pass</code> are provided</li>
<li><strong>Database query</strong>: Retrieves user record by <code>usuario</code> field</li>
<li><strong>Existence check</strong>: Verifies <code>results.length &gt; 0</code></li>
<li><strong>Password comparison</strong>: Uses <code>bcrypt.compare()</code> to verify hashed password</li>
<li><strong>Token generation</strong>: Creates JWT with user payload on success</li>
<li><strong>Cookie setting</strong>: Stores token in HTTP-only cookie</li>
</ol>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L536-L556">src/router.js L536-L556</a></p>
<h3 id="jwt-payload-construction">JWT Payload Construction<a class="headerlink" href="#jwt-payload-construction" title="Permanent link">&para;</a></h3>
<p>Upon successful authentication, a JWT payload is constructed with the following user data:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">usuario</span><span class="p">,</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">nombre</span><span class="p">,</span>
<span class="w">    </span><span class="nx">rol</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">rol</span><span class="p">,</span>
<span class="w">    </span><span class="nx">imagen</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">imagen</span>
<span class="p">};</span>
</code></pre></div>
<p>This payload is signed using the <code>JWT_SECRET</code> environment variable and set to expire in 1 hour:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jwt</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">payload</span><span class="p">,</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWT_SECRET</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">expiresIn</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;1h&quot;</span><span class="w"> </span><span class="p">});</span>
</code></pre></div>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L559-L567">src/router.js L559-L567</a></p>
<h3 id="session-cookie-configuration">Session Cookie Configuration<a class="headerlink" href="#session-cookie-configuration" title="Permanent link">&para;</a></h3>
<p>The generated JWT is stored in a cookie named <code>token</code> with the following options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Value</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>httpOnly</code></td>
<td><code>true</code></td>
<td>Prevents JavaScript access (XSS protection)</td>
</tr>
<tr>
<td><code>secure</code></td>
<td><code>false</code></td>
<td>Set to <code>true</code> in production with HTTPS</td>
</tr>
<tr>
<td><code>maxAge</code></td>
<td><code>3600000</code></td>
<td>1 hour in milliseconds</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">res.cookie(&quot;token&quot;, token, {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">httpOnly</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">secure</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">maxAge</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600000</span>
<span class="err">}</span><span class="l l-Scalar l-Scalar-Plain">);</span>
</code></pre></div>
<p>The cookie is automatically sent with subsequent requests and validated by the <code>verifyToken</code> middleware.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L570-L574">src/router.js L570-L574</a></p>
<h3 id="rate-limiting-protection">Rate Limiting Protection<a class="headerlink" href="#rate-limiting-protection" title="Permanent link">&para;</a></h3>
<p>The <code>/auth</code> endpoint is protected by the <code>limiter</code> middleware (imported from <code>src/middlewares/authLimiter.js</code>) to prevent brute-force attacks. This middleware restricts the number of login attempts from a single IP address within a time window.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L21-L21">src/router.js L21</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L532">src/router.js L532</a></p>
<hr />
<h2 id="database-schema-reference">Database Schema Reference<a class="headerlink" href="#database-schema-reference" title="Permanent link">&para;</a></h2>
<h3 id="usuarios-table-structure">usuarios Table Structure<a class="headerlink" href="#usuarios-table-structure" title="Permanent link">&para;</a></h3>
<p>The registration and login flows interact with the <code>usuarios</code> table, which has the following relevant columns:</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Constraints</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>usuario</code></td>
<td>varchar</td>
<td>PRIMARY KEY</td>
<td>Username for login</td>
</tr>
<tr>
<td><code>nombre</code></td>
<td>varchar</td>
<td>NOT NULL</td>
<td>Display name</td>
</tr>
<tr>
<td><code>rol</code></td>
<td>varchar</td>
<td>NOT NULL</td>
<td>"admin" or "user"</td>
</tr>
<tr>
<td><code>pass</code></td>
<td>varchar</td>
<td>NOT NULL</td>
<td>bcrypt hashed password</td>
</tr>
<tr>
<td><code>imagen</code></td>
<td>varchar</td>
<td>NULL</td>
<td>Profile image filename</td>
</tr>
</tbody>
</table>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L456-L465">src/router.js L456-L465</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L537-L539">src/router.js L537-L539</a></p>
<hr />
<h2 id="error-handling-and-user-feedback">Error Handling and User Feedback<a class="headerlink" href="#error-handling-and-user-feedback" title="Permanent link">&para;</a></h2>
<h3 id="registration-error-display">Registration Error Display<a class="headerlink" href="#registration-error-display" title="Permanent link">&para;</a></h3>
<p>Validation errors are displayed using Bootstrap alerts rendered by <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L44-L56">views/register.ejs L44-L56</a></p>
<p>Each error from the <code>validaciones</code> array is shown as a dismissible danger alert with:</p>
<ul>
<li>SVG icon (<code>#exclamation-triangle-fill</code>)</li>
<li>Strong-tagged error message</li>
<li>Close button</li>
</ul>
<p>Form field values are preserved through the <code>valores</code> object, preventing users from re-entering all data.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L44-L56">views/register.ejs L44-L56</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L436-L441">src/router.js L436-L441</a></p>
<h3 id="login-error-display">Login Error Display<a class="headerlink" href="#login-error-display" title="Permanent link">&para;</a></h3>
<p>Login errors use SweetAlert2 popups with the following characteristics:</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>alertTitle</th>
<th>alertMessage</th>
<th>alertIcon</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Missing credentials</td>
<td>"Error"</td>
<td>"Introduzca su usuario y contraseña"</td>
<td>error</td>
<td>showConfirmButton: true</td>
</tr>
<tr>
<td>Invalid credentials</td>
<td>"Error"</td>
<td>"El usuario o la contraseña son incorrectos"</td>
<td>error</td>
<td>showConfirmButton: true</td>
</tr>
<tr>
<td>Success</td>
<td>"Login"</td>
<td>"Has iniciado sesión correctamente"</td>
<td>success</td>
<td>Auto-redirect after 2.5s</td>
</tr>
</tbody>
</table>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L545-L556">src/router.js L545-L556</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L577-L586">src/router.js L577-L586</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L590-L599">src/router.js L590-L599</a></p>
<h3 id="success-flow">Success Flow<a class="headerlink" href="#success-flow" title="Permanent link">&para;</a></h3>
<p>Both successful registration and login render the same template structure with conditional SweetAlert2 execution:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">alert</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">&#39;undefined&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">Swal</span><span class="p">.</span><span class="nx">fire</span><span class="p">({...}).</span><span class="nx">then</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/&lt;%= ruta %&gt;&#39;</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>Registration redirects to <code>''</code> (homepage)</li>
<li>Login redirects to <code>''</code> (homepage)</li>
</ul>
<p>The authenticated user can then access protected routes via the JWT cookie.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L62-L74">views/register.ejs L62-L74</a></p>
<hr />
<h2 id="registration-vs-login-flow-comparison">Registration vs Login Flow Comparison<a class="headerlink" href="#registration-vs-login-flow-comparison" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>flowchart TD

LoginForm["Form Submission&lt;br&gt;{user, pass}"]
LoginLimiter["Rate Limiter&lt;br&gt;authLimiter"]
LoginQuery["SELECT * FROM usuarios&lt;br&gt;WHERE usuario = ?"]
LoginCheck["User exists&lt;br&gt;&amp; password&lt;br&gt;matches?"]
LoginError["SweetAlert error&lt;br&gt;'Credenciales incorrectas'"]
LoginJWT["jwt.sign(payload,&lt;br&gt;JWT_SECRET, {expiresIn: '1h'})"]
LoginCookie["Set-Cookie: token=...&lt;br&gt;{httpOnly, maxAge: 3600000}"]
LoginSuccess["SweetAlert success&lt;br&gt;Redirect to /"]
RegForm["Form Submission&lt;br&gt;{user, name, rol, pass,&lt;br&gt;email, edad, profileImage}"]
RegMulter["Multer Middleware&lt;br&gt;upload.single('profileImage')"]
RegValidation["express-validator&lt;br&gt;body() chains"]
RegCheck["Validation&lt;br&gt;Errors?"]
RegRerender["Re-render form&lt;br&gt;with validaciones"]
RegBcrypt["bcrypt.hash(pass, 8)"]
RegInsert["INSERT INTO usuarios"]
RegSuccess["SweetAlert success&lt;br&gt;Redirect to /"]

subgraph Login ["Login Flow (POST /auth)"]
    LoginForm
    LoginLimiter
    LoginQuery
    LoginCheck
    LoginError
    LoginJWT
    LoginCookie
    LoginSuccess
    LoginForm --&gt; LoginLimiter
    LoginLimiter --&gt; LoginQuery
    LoginQuery --&gt; LoginCheck
    LoginCheck --&gt; LoginError
    LoginCheck --&gt; LoginJWT
    LoginJWT --&gt; LoginCookie
    LoginCookie --&gt; LoginSuccess
end

subgraph Registration ["Registration Flow (POST /register)"]
    RegForm
    RegMulter
    RegValidation
    RegCheck
    RegRerender
    RegBcrypt
    RegInsert
    RegSuccess
    RegForm --&gt; RegMulter
    RegMulter --&gt; RegValidation
    RegValidation --&gt; RegCheck
    RegCheck --&gt; RegRerender
    RegCheck --&gt; RegBcrypt
    RegBcrypt --&gt; RegInsert
    RegInsert --&gt; RegSuccess
end</code></pre>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484">src/router.js L414-L484</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></p>
<hr />
<h2 id="key-dependencies">Key Dependencies<a class="headerlink" href="#key-dependencies" title="Permanent link">&para;</a></h2>
<p>The registration and login flows depend on the following npm packages:</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Version</th>
<th>Purpose</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bcryptjs</code></td>
<td>^3.0.2</td>
<td>Password hashing</td>
<td><code>bcrypt.hash()</code>, <code>bcrypt.compare()</code></td>
</tr>
<tr>
<td><code>jsonwebtoken</code></td>
<td>^9.0.2</td>
<td>JWT generation</td>
<td><code>jwt.sign()</code></td>
</tr>
<tr>
<td><code>express-validator</code></td>
<td>^7.2.1</td>
<td>Form validation</td>
<td><code>body()</code>, <code>validationResult()</code></td>
</tr>
<tr>
<td><code>multer</code></td>
<td>^2.0.2</td>
<td>File upload handling</td>
<td><code>upload.single()</code></td>
</tr>
<tr>
<td><code>cookie-parser</code></td>
<td>^1.4.7</td>
<td>Cookie parsing</td>
<td>Parses <code>req.cookies.token</code></td>
</tr>
</tbody>
</table>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/package-lock.json#L12-L25">package-lock.json L12-L25</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L1-L19">src/router.js L1-L19</a></p>
<hr />
<h2 id="related-endpoints">Related Endpoints<a class="headerlink" href="#related-endpoints" title="Permanent link">&para;</a></h2>
<p>After successful authentication, users access the system through these routes:</p>
<table>
<thead>
<tr>
<th>Route</th>
<th>Auth Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/</code></td>
<td>Optional</td>
<td>Homepage, displays user info if JWT present</td>
</tr>
<tr>
<td><code>/admin</code></td>
<td>verifyToken</td>
<td>Product management interface</td>
</tr>
<tr>
<td><code>/soporte</code></td>
<td>verifyToken</td>
<td>Support chat interface</td>
</tr>
<tr>
<td><code>/logout</code></td>
<td>None</td>
<td>Clears token cookie</td>
</tr>
</tbody>
</table>
<p>The <code>/</code> route demonstrates optional authentication by checking for <code>req.cookies.token</code> and decoding it to display user information.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L59-L74">src/router.js L59-L74</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L119-L134">src/router.js L119-L134</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L220-L227">src/router.js L220-L227</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L215-L218">src/router.js L215-L218</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["content.code.copy"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>