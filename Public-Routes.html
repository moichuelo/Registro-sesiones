
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentación del proyecto Registro (DeepWiki dump)">
      
      
      
      
        <link rel="prev" href="Routing-System.html">
      
      
        <link rel="next" href="Protected-Routes.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Public Routes - DeepWiki — Registro</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#public-routes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="DeepWiki — Registro" class="md-header__button md-logo" aria-label="DeepWiki — Registro" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepWiki — Registro
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Public Routes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="DeepWiki — Registro" class="md-nav__button md-logo" aria-label="DeepWiki — Registro" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeepWiki — Registro
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Getting-Started.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Architecture-Overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="System-Components.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Technology-Stack.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technology Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Request-Processing-Pipeline.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Request Processing Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Application-Bootstrap.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Bootstrap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Routing System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Routing System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Routing-System.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Routing System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Public Routes
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Public-Routes.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Public Routes
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose-and-scope" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose and Scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Route Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homepage-route" class="md-nav__link">
    <span class="md-ellipsis">
      Homepage Route
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Homepage Route">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET /
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-login" class="md-nav__link">
    <span class="md-ellipsis">
      GET /login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-auth" class="md-nav__link">
    <span class="md-ellipsis">
      POST /auth
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registration Routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-registro" class="md-nav__link">
    <span class="md-ellipsis">
      GET /registro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-register" class="md-nav__link">
    <span class="md-ellipsis">
      POST /register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#language-switching-route" class="md-nav__link">
    <span class="md-ellipsis">
      Language Switching Route
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Language Switching Route">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-set-langlang" class="md-nav__link">
    <span class="md-ellipsis">
      GET /set-lang/:lang
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-processing-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Request Processing Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route-to-code-entity-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Route-to-Code Entity Mapping
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cookie-management" class="md-nav__link">
    <span class="md-ellipsis">
      Cookie Management
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Protected-Routes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Protected Routes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="API-Endpoints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Authentication & Authorization
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Authentication & Authorization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Authentication-%26-Authorization.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication & Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="User-Registration-%26-Login.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Registration & Login
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="JWT-Token-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JWT Token Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="verifyToken-Middleware.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    verifyToken Middleware
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Security-Measures.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Measures
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Real-time Communication System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Real-time Communication System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Real-time-Communication-System.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Real-time Communication System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Socket.IO-Server-Setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Socket.IO Server Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="WebSocket-Authentication.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebSocket Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Room-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Room Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Message-Handling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Message Handling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Product-Management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Product Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Support Chat System
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Support Chat System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Support-Chat-System.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support Chat System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="User-Chat-Interface.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Chat Interface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Admin-Chat-Interface.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin Chat Interface
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PDF Generation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            PDF Generation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PDF-Generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDF Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Puppeteer-PDF-Generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Puppeteer PDF Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="PDFKit-PDF-Generation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDFKit PDF Generation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Internationalization-%28i18n%29.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Internationalization (i18n)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    View Layer & Templates
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            View Layer & Templates
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Template-Structure.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Template Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Partial-Components.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Partial Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Page-Views.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Page Views
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Static-Assets-%26-Styling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Static Assets & Styling
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Database Schema
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Database Schema
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Database-Schema.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database Schema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="usuarios-Table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    usuarios Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="productos-Table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    productos Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mensajes-Table.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mensajes Table
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="API-Reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="HTTP-Endpoints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="WebSocket-Events.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebSocket Events
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Deployment-%26-Configuration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment & Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    README
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose-and-scope" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose and Scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Route Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homepage-route" class="md-nav__link">
    <span class="md-ellipsis">
      Homepage Route
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Homepage Route">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    <span class="md-ellipsis">
      GET /
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-login" class="md-nav__link">
    <span class="md-ellipsis">
      GET /login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-auth" class="md-nav__link">
    <span class="md-ellipsis">
      POST /auth
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#registration-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Registration Routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Registration Routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-registro" class="md-nav__link">
    <span class="md-ellipsis">
      GET /registro
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-register" class="md-nav__link">
    <span class="md-ellipsis">
      POST /register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#language-switching-route" class="md-nav__link">
    <span class="md-ellipsis">
      Language Switching Route
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Language Switching Route">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-set-langlang" class="md-nav__link">
    <span class="md-ellipsis">
      GET /set-lang/:lang
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-processing-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Request Processing Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#route-to-code-entity-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Route-to-Code Entity Mapping
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cookie-management" class="md-nav__link">
    <span class="md-ellipsis">
      Cookie Management
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security Considerations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="public-routes">Public Routes<a class="headerlink" href="#public-routes" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>Relevant source files</strong>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/public/css/style.css">public/css/style.css</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js">src/router.js</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/admin.ejs">views/admin.ejs</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/index.ejs">views/index.ejs</a>
* <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs">views/register.ejs</a></p>
</blockquote>
<p>This document describes all HTTP routes in the application that are accessible without authentication. These routes handle the public-facing functionality including the homepage, user authentication (login/register), and language preference management.</p>
<p>For routes requiring authentication, see <a href="Protected-Routes.html">Protected Routes</a>. For API endpoints used by the frontend, see <a href="API-Endpoints.html">API Endpoints</a>.</p>
<hr />
<h2 id="purpose-and-scope">Purpose and Scope<a class="headerlink" href="#purpose-and-scope" title="Permanent link">&para;</a></h2>
<p>Public routes are defined in <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js">src/router.js</a></p>
<p>and do not have the <code>verifyToken</code> or <code>verifyAdmin</code> middleware applied. They are accessible to any client making HTTP requests to the server, regardless of authentication state. These routes form the entry points to the application and handle the authentication lifecycle.</p>
<hr />
<h2 id="route-overview">Route Overview<a class="headerlink" href="#route-overview" title="Permanent link">&para;</a></h2>
<p>The following table lists all public routes in the system:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Path</th>
<th>Handler Location</th>
<th>View Rendered</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td><code>/</code></td>
<td><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L59-L74">src/router.js L59-L74</a></td>
<td><code>index.ejs</code></td>
<td>Homepage with optional user info</td>
</tr>
<tr>
<td>GET</td>
<td><code>/login</code></td>
<td><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L75-L77">src/router.js L75-L77</a></td>
<td><code>login.ejs</code></td>
<td>Login form display</td>
</tr>
<tr>
<td>GET</td>
<td><code>/registro</code></td>
<td><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L78-L80">src/router.js L78-L80</a></td>
<td><code>register.ejs</code></td>
<td>Registration form display</td>
</tr>
<tr>
<td>POST</td>
<td><code>/auth</code></td>
<td><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></td>
<td><code>login.ejs</code></td>
<td>Login processing with JWT generation</td>
</tr>
<tr>
<td>POST</td>
<td><code>/register</code></td>
<td><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484">src/router.js L414-L484</a></td>
<td><code>register.ejs</code></td>
<td>Registration processing with validation</td>
</tr>
<tr>
<td>GET</td>
<td><code>/set-lang/:lang</code></td>
<td><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L398-L407">src/router.js L398-L407</a></td>
<td>N/A (redirect)</td>
<td>Language preference switching</td>
</tr>
</tbody>
</table>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L1-L607">src/router.js L1-L607</a></p>
<hr />
<h2 id="homepage-route">Homepage Route<a class="headerlink" href="#homepage-route" title="Permanent link">&para;</a></h2>
<h3 id="get">GET /<a class="headerlink" href="#get" title="Permanent link">&para;</a></h3>
<p>The root route serves as the application's homepage. It demonstrates conditional rendering based on authentication state by attempting to decode a JWT from cookies without enforcing authentication.</p>
<div class="highlight"><pre><span></span><code>Route:<span class="w"> </span>GET<span class="w"> </span>/
Handler:<span class="w"> </span><span class="nt">&lt;FileRef</span><span class="w"> </span><span class="na">file-url=</span><span class="s">&quot;https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L59-L74&quot;</span><span class="w"> </span><span class="na">min=</span><span class="s">59</span><span class="w"> </span><span class="na">max=</span><span class="s">74</span><span class="w"> </span><span class="na">file-path=</span><span class="s">&quot;src/router.js&quot;</span><span class="nt">&gt;</span>Hii<span class="nt">&lt;/FileRef&gt;</span>
Middleware:<span class="w"> </span>None<span class="w"> </span>(public)
View:<span class="w"> </span>views/index.ejs
</code></pre></div>
<p><strong>Handler Logic:</strong></p>
<ol>
<li>Checks for <code>token</code> cookie in the request <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L61-L61">src/router.js L61</a></li>
<li>If present, verifies the JWT using <code>jwt.verify()</code> with <code>process.env.JWT_SECRET</code> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L62-L62">src/router.js L62</a></li>
<li>Extracts user payload and passes to view</li>
<li>If absent or invalid, displays generic message "Debe iniciar sesión"</li>
</ol>
<p><strong>View Data:</strong></p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>user</code></td>
<td>string</td>
<td>Username from JWT or "Debe iniciar sesión"</td>
</tr>
<tr>
<td><code>login</code></td>
<td>boolean</td>
<td><code>true</code> if authenticated, <code>false</code> otherwise</td>
</tr>
</tbody>
</table>
<p><strong>Example Implementation:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">cookies</span><span class="p">.</span><span class="nx">token</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jwt</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">cookies</span><span class="p">.</span><span class="nx">token</span><span class="p">,</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">JWT_SECRET</span><span class="p">);</span>
<span class="w">    </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">payload</span><span class="p">;</span>
<span class="w">    </span><span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="o">?</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;Usuario&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">login</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Debe iniciar sesión&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">login</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>The rendered view <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/index.ejs#L1-L35">views/index.ejs L1-L35</a></p>
<p>conditionally displays either a logout link or login link based on the <code>login</code> flag.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L59-L74">src/router.js L59-L74</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/views/index.ejs#L1-L35">views/index.ejs L1-L35</a></p>
<hr />
<h2 id="authentication-routes">Authentication Routes<a class="headerlink" href="#authentication-routes" title="Permanent link">&para;</a></h2>
<h3 id="get-login">GET /login<a class="headerlink" href="#get-login" title="Permanent link">&para;</a></h3>
<p>Displays the login form for user authentication.</p>
<div class="highlight"><pre><span></span><code>Route:<span class="w"> </span>GET<span class="w"> </span>/login
Handler:<span class="w"> </span><span class="nt">&lt;FileRef</span><span class="w"> </span><span class="na">file-url=</span><span class="s">&quot;https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L75-L77&quot;</span><span class="w"> </span><span class="na">min=</span><span class="s">75</span><span class="w"> </span><span class="na">max=</span><span class="s">77</span><span class="w"> </span><span class="na">file-path=</span><span class="s">&quot;src/router.js&quot;</span><span class="nt">&gt;</span>Hii<span class="nt">&lt;/FileRef&gt;</span>
Middleware:<span class="w"> </span>None<span class="w"> </span>(public)
View:<span class="w"> </span>views/login.ejs
</code></pre></div>
<p>Simple route handler that renders the login view without any data processing.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L75-L77">src/router.js L75-L77</a></p>
<hr />
<h3 id="post-auth">POST /auth<a class="headerlink" href="#post-auth" title="Permanent link">&para;</a></h3>
<p>Processes login credentials, validates against the database, and issues JWT tokens.</p>
<div class="highlight"><pre><span></span><code>Route:<span class="w"> </span>POST<span class="w"> </span>/auth
Handler:<span class="w"> </span><span class="nt">&lt;FileRef</span><span class="w"> </span><span class="na">file-url=</span><span class="s">&quot;https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601&quot;</span><span class="w"> </span><span class="na">min=</span><span class="s">532</span><span class="w"> </span><span class="na">max=</span><span class="s">601</span><span class="w"> </span><span class="na">file-path=</span><span class="s">&quot;src/router.js&quot;</span><span class="nt">&gt;</span>Hii<span class="nt">&lt;/FileRef&gt;</span>
Middleware:<span class="w"> </span>limiter<span class="w"> </span>(rate<span class="w"> </span>limiting)
View:<span class="w"> </span>views/login.ejs<span class="w"> </span>(rendered<span class="w"> </span>with<span class="w"> </span>alert)
</code></pre></div>
<p><strong>Rate Limiting:</strong></p>
<p>The route is protected by the <code>limiter</code> middleware <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L532">src/router.js L532</a></p>
<p>which prevents brute-force attacks. See <a href="Security-Measures.html">Security Measures</a> for details on rate limiting configuration.</p>
<p><strong>Request Flow:</strong></p>
<pre class="mermaid"><code>flowchart TD

Start["POST /auth&lt;br&gt;Request"]
RateLimit["limiter middleware&lt;br&gt;Check rate limits"]
ValidateInput["user &amp;&amp; pass&lt;br&gt;present?"]
RenderError1["Render login.ejs&lt;br&gt;Error: Missing credentials"]
QueryDB["db.query()&lt;br&gt;SELECT * FROM usuarios&lt;br&gt;WHERE usuario = ?"]
UserExists["User found?"]
RenderError2["Render login.ejs&lt;br&gt;Error: Invalid credentials"]
ComparePass["bcrypt.compare()&lt;br&gt;Verify password hash"]
PassMatch["Password&lt;br&gt;matches?"]
BuildPayload["Build JWT payload&lt;br&gt;{user, name, rol, imagen}"]
SignToken["jwt.sign()&lt;br&gt;Secret: JWT_SECRET&lt;br&gt;Expiry: 1h"]
SetCookie["res.cookie('token')&lt;br&gt;httpOnly: true&lt;br&gt;maxAge: 3600000"]
RenderSuccess["Render login.ejs&lt;br&gt;Success alert&lt;br&gt;Redirect to /"]
End["Response"]

Start --&gt; RateLimit
RateLimit --&gt; ValidateInput
ValidateInput --&gt; RenderError1
ValidateInput --&gt; QueryDB
QueryDB --&gt; UserExists
UserExists --&gt; RenderError2
UserExists --&gt; ComparePass
ComparePass --&gt; PassMatch
PassMatch --&gt; RenderError2
PassMatch --&gt; BuildPayload
BuildPayload --&gt; SignToken
SignToken --&gt; SetCookie
SetCookie --&gt; RenderSuccess
RenderError1 --&gt; End
RenderError2 --&gt; End
RenderSuccess --&gt; End</code></pre>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></p>
<p><strong>Payload Structure:</strong></p>
<p>The JWT payload contains the following fields from the <code>usuarios</code> table:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">usuario</span><span class="p">,</span><span class="w">    </span><span class="c1">// Username (primary key)</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">nombre</span><span class="p">,</span><span class="w">      </span><span class="c1">// Display name</span>
<span class="w">    </span><span class="nx">rol</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">rol</span><span class="p">,</span><span class="w">          </span><span class="c1">// Role: &#39;admin&#39; or &#39;user&#39;</span>
<span class="w">    </span><span class="nx">imagen</span><span class="o">:</span><span class="w"> </span><span class="nx">results</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">imagen</span><span class="p">,</span><span class="w">    </span><span class="c1">// Profile image filename</span>
<span class="p">};</span>
</code></pre></div>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L559-L564">src/router.js L559-L564</a></p>
<p><strong>Cookie Configuration:</strong></p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>httpOnly</code></td>
<td><code>true</code></td>
<td>Prevents client-side JavaScript access</td>
</tr>
<tr>
<td><code>secure</code></td>
<td><code>false</code></td>
<td>Set to <code>true</code> for HTTPS in production</td>
</tr>
<tr>
<td><code>maxAge</code></td>
<td><code>3600000</code></td>
<td>1 hour in milliseconds</td>
</tr>
</tbody>
</table>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L570-L574">src/router.js L570-L574</a></p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L601">src/router.js L532-L601</a></p>
<hr />
<h2 id="registration-routes">Registration Routes<a class="headerlink" href="#registration-routes" title="Permanent link">&para;</a></h2>
<h3 id="get-registro">GET /registro<a class="headerlink" href="#get-registro" title="Permanent link">&para;</a></h3>
<p>Displays the user registration form.</p>
<div class="highlight"><pre><span></span><code>Route:<span class="w"> </span>GET<span class="w"> </span>/registro
Handler:<span class="w"> </span><span class="nt">&lt;FileRef</span><span class="w"> </span><span class="na">file-url=</span><span class="s">&quot;https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L78-L80&quot;</span><span class="w"> </span><span class="na">min=</span><span class="s">78</span><span class="w"> </span><span class="na">max=</span><span class="s">80</span><span class="w"> </span><span class="na">file-path=</span><span class="s">&quot;src/router.js&quot;</span><span class="nt">&gt;</span>Hii<span class="nt">&lt;/FileRef&gt;</span>
Middleware:<span class="w"> </span>None<span class="w"> </span>(public)
View:<span class="w"> </span>views/register.ejs
</code></pre></div>
<p>Simple route handler that renders the registration view.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L78-L80">src/router.js L78-L80</a></p>
<hr />
<h3 id="post-register">POST /register<a class="headerlink" href="#post-register" title="Permanent link">&para;</a></h3>
<p>Processes new user registration with input validation and file upload support.</p>
<div class="highlight"><pre><span></span><code>Route:<span class="w"> </span>POST<span class="w"> </span>/register
Handler:<span class="w"> </span><span class="nt">&lt;FileRef</span><span class="w"> </span><span class="na">file-url=</span><span class="s">&quot;https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484&quot;</span><span class="w"> </span><span class="na">min=</span><span class="s">414</span><span class="w"> </span><span class="na">max=</span><span class="s">484</span><span class="w"> </span><span class="na">file-path=</span><span class="s">&quot;src/router.js&quot;</span><span class="nt">&gt;</span>Hii<span class="nt">&lt;/FileRef&gt;</span>
Middleware:<span class="w"> </span>upload.single(&quot;profileImage&quot;)
View:<span class="w"> </span>views/register.ejs<span class="w"> </span>(re-rendered<span class="w"> </span>with<span class="w"> </span>validation<span class="w"> </span>errors<span class="w"> </span>or<span class="w"> </span>success)
</code></pre></div>
<p><strong>Middleware Stack:</strong></p>
<ol>
<li><strong>Multer Upload:</strong> <code>upload.single("profileImage")</code> - Handles multipart/form-data for profile image uploads <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L414">src/router.js L414</a></li>
<li><strong>Express Validator:</strong> Validates form fields inline <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L415-L428">src/router.js L415-L428</a></li>
</ol>
<p><strong>Validation Rules:</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Validation</th>
<th>Error Message</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>user</code></td>
<td>Must exist, min length 4</td>
<td>"El usuario debe tener al menos 4 caracteres"</td>
</tr>
<tr>
<td><code>name</code></td>
<td>Min length 4</td>
<td>"El nombre debe tener al menos 4 caracteres"</td>
</tr>
<tr>
<td><code>pass</code></td>
<td>Min length 4</td>
<td>"La contraseña debe tener al menos 4 caracteres"</td>
</tr>
<tr>
<td><code>email</code></td>
<td>Valid email format</td>
<td>"El email no es valido"</td>
</tr>
<tr>
<td><code>edad</code></td>
<td>Numeric</td>
<td>"La edad debe ser un número"</td>
</tr>
</tbody>
</table>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L416-L428">src/router.js L416-L428</a></p>
<p><strong>Registration Flow:</strong></p>
<pre class="mermaid"><code>flowchart TD

Start["POST /register&lt;br&gt;multipart/form-data"]
Multer["upload.single('profileImage')&lt;br&gt;Store in public/uploads/"]
Validate["express-validator&lt;br&gt;Check all fields"]
HasErrors["validationResult()&lt;br&gt;has errors?"]
RenderErrors["Re-render register.ejs&lt;br&gt;Pass: validaciones, valores"]
ExtractData["Extract fields from req.body&lt;br&gt;user, name, rol, pass"]
CheckFile["req.file present?&lt;br&gt;Get filename or null"]
HashPass["bcrypt.hash(pass, 8)&lt;br&gt;Generate password hash"]
InsertDB["db.query()&lt;br&gt;INSERT INTO usuarios"]
CheckInsert["Insert&lt;br&gt;successful?"]
LogError["console.log(error)"]
RenderSuccess["Render register.ejs&lt;br&gt;SweetAlert success&lt;br&gt;Redirect to /"]
End["Response"]

Start --&gt; Multer
Multer --&gt; Validate
Validate --&gt; HasErrors
HasErrors --&gt; RenderErrors
HasErrors --&gt; ExtractData
ExtractData --&gt; CheckFile
CheckFile --&gt; HashPass
HashPass --&gt; InsertDB
InsertDB --&gt; CheckInsert
CheckInsert --&gt; LogError
CheckInsert --&gt; RenderSuccess
RenderErrors --&gt; End
LogError --&gt; End
RenderSuccess --&gt; End</code></pre>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484">src/router.js L414-L484</a></p>
<p><strong>Database Insert:</strong></p>
<p>The handler inserts a new record into the <code>usuarios</code> table with the following mapping:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="n">usuario</span><span class="p">:</span> <span class="n">user</span><span class="p">,</span>              <span class="o">//</span> <span class="n">Username</span> <span class="p">(</span><span class="n">primary</span> <span class="n">key</span><span class="p">)</span>
    <span class="n">nombre</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>               <span class="o">//</span> <span class="n">Display</span> <span class="n">name</span>
    <span class="n">rol</span><span class="p">:</span> <span class="n">rol</span><span class="p">,</span>                   <span class="o">//</span> <span class="n">Selected</span> <span class="n">role</span>
    <span class="k">pass</span><span class="p">:</span> <span class="n">passwordHash</span><span class="p">,</span>         <span class="o">//</span> <span class="n">bcrypt</span> <span class="nb">hash</span> <span class="p">(</span><span class="n">salt</span> <span class="n">rounds</span><span class="p">:</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">imagen</span><span class="p">:</span> <span class="n">profileImage</span><span class="p">,</span>       <span class="o">//</span> <span class="n">Filename</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Multer</span> <span class="ow">or</span> <span class="n">null</span>
<span class="p">}</span>
</code></pre></div>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L458-L464">src/router.js L458-L464</a></p>
<p><strong>Error Handling:</strong></p>
<p>On validation failure, the view is re-rendered with:</p>
<ul>
<li><code>validaciones</code>: Array of error objects from express-validator</li>
<li><code>valores</code>: Original form values for field pre-population</li>
</ul>
<p>This allows the user to see validation errors without losing entered data. <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L44-L56">views/register.ejs L44-L56</a></p>
<p>displays these errors using Bootstrap alert components.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L484">src/router.js L414-L484</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/views/register.ejs#L1-L85">views/register.ejs L1-L85</a></p>
<hr />
<h2 id="language-switching-route">Language Switching Route<a class="headerlink" href="#language-switching-route" title="Permanent link">&para;</a></h2>
<h3 id="get-set-langlang">GET /set-lang/:lang<a class="headerlink" href="#get-set-langlang" title="Permanent link">&para;</a></h3>
<p>Updates the user's language preference via cookie and redirects back to the referring page.</p>
<div class="highlight"><pre><span></span><code>Route:<span class="w"> </span>GET<span class="w"> </span>/set-lang/:lang
Handler:<span class="w"> </span><span class="nt">&lt;FileRef</span><span class="w"> </span><span class="na">file-url=</span><span class="s">&quot;https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L398-L407&quot;</span><span class="w"> </span><span class="na">min=</span><span class="s">398</span><span class="w"> </span><span class="na">max=</span><span class="s">407</span><span class="w"> </span><span class="na">file-path=</span><span class="s">&quot;src/router.js&quot;</span><span class="nt">&gt;</span>Hii<span class="nt">&lt;/FileRef&gt;</span>
Middleware:<span class="w"> </span>None<span class="w"> </span>(public)
Response:<span class="w"> </span>HTTP<span class="w"> </span>302<span class="w"> </span>Redirect
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Location</th>
<th>Type</th>
<th>Valid Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lang</code></td>
<td>Path</td>
<td>string</td>
<td><code>'es'</code>, <code>'en'</code></td>
<td>Target language code</td>
</tr>
<tr>
<td><code>returnTo</code></td>
<td>Query</td>
<td>string</td>
<td>Any valid path</td>
<td>URL to redirect after setting language</td>
</tr>
</tbody>
</table>
<p><strong>Logic:</strong></p>
<ol>
<li>Extract <code>lang</code> from route parameter <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L399-L399">src/router.js L399</a></li>
<li>Extract <code>returnTo</code> from query string, defaulting to <code>'/'</code> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L400-L400">src/router.js L400</a></li>
<li>Validate <code>lang</code> is either <code>'es'</code> or <code>'en'</code> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L402-L402">src/router.js L402</a></li>
<li>Set <code>lang</code> cookie with 900-second expiry <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L403-L403">src/router.js L403</a></li>
<li>Redirect to <code>returnTo</code> URL <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L406-L406">src/router.js L406</a></li>
</ol>
<p><strong>Cookie Configuration:</strong></p>
<div class="highlight"><pre><span></span><code>res.cookie(&#39;lang&#39;, lang, { maxAge: 900000, httpOnly: true });
</code></pre></div>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L403-L403">src/router.js L403</a></p>
<p><strong>Integration with i18n:</strong></p>
<p>The <code>lang</code> cookie is read by the <code>i18n.init</code> middleware configured in <a href="https://github.com/moichuelo/registro/blob/544abbcc/index.js">index.js</a></p>
<p>to determine which locale to use for rendering views. See <a href="Internationalization-%28i18n%29.html">Internationalization (i18n)</a>) for details on how language preferences are applied.</p>
<p><strong>Usage Example:</strong></p>
<p>To switch to Spanish and return to the admin page:</p>
<div class="highlight"><pre><span></span><code>GET /set-lang/es?returnTo=/admin
</code></pre></div>
<p>The header partial <a href="https://github.com/moichuelo/registro/blob/544abbcc/views/partials/header.ejs">views/partials/header.ejs</a></p>
<p>includes language switching links that use this route.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L398-L407">src/router.js L398-L407</a></p>
<hr />
<h2 id="request-processing-flow">Request Processing Flow<a class="headerlink" href="#request-processing-flow" title="Permanent link">&para;</a></h2>
<p>The following diagram shows how public routes are processed through the Express middleware stack:</p>
<pre class="mermaid"><code>flowchart TD

Request["Incoming HTTP Request"]
Static["Static asset?&lt;br&gt;/resources/*"]
ServeStatic["express.static&lt;br&gt;Serve from public/"]
Helmet["helmet&lt;br&gt;Security headers"]
RateLimit["express-rate-limit&lt;br&gt;Global limits"]
CookieParser["cookie-parser&lt;br&gt;Parse token cookie"]
BodyParser["body parsers&lt;br&gt;urlencoded + json"]
Session["express-session&lt;br&gt;Session management"]
I18n["i18n.init&lt;br&gt;Language detection"]
SetGlobals["setGlobals&lt;br&gt;View context"]
RouteMatch["Route matches&lt;br&gt;public route?"]
RootHandler["Homepage handler&lt;br&gt;Optional JWT decode"]
LoginView["Render login.ejs"]
RegisterView["Render register.ejs"]
AuthLimiter["limiter middleware&lt;br&gt;Auth-specific rate limit"]
Multer["upload.single()&lt;br&gt;Profile image"]
LangHandler["Set lang cookie&lt;br&gt;Redirect"]
AuthHandler["Auth handler&lt;br&gt;JWT generation"]
Validators["express-validator&lt;br&gt;Field validation"]
RegisterHandler["Register handler&lt;br&gt;bcrypt + DB insert"]
Response["Send Response"]

Request --&gt; Static
Static --&gt; ServeStatic
Static --&gt; Helmet
Helmet --&gt; RateLimit
RateLimit --&gt; CookieParser
CookieParser --&gt; BodyParser
BodyParser --&gt; Session
Session --&gt; I18n
I18n --&gt; SetGlobals
SetGlobals --&gt; RouteMatch
RouteMatch --&gt; RootHandler
RouteMatch --&gt; LoginView
RouteMatch --&gt; RegisterView
RouteMatch --&gt; AuthLimiter
RouteMatch --&gt; Multer
RouteMatch --&gt; LangHandler
AuthLimiter --&gt; AuthHandler
Multer --&gt; Validators
Validators --&gt; RegisterHandler
RootHandler --&gt; Response
LoginView --&gt; Response
RegisterView --&gt; Response
AuthHandler --&gt; Response
RegisterHandler --&gt; Response
LangHandler --&gt; Response
ServeStatic --&gt; Response</code></pre>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L1-L607">src/router.js L1-L607</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/index.js">index.js</a></p>
<hr />
<h2 id="route-to-code-entity-mapping">Route-to-Code Entity Mapping<a class="headerlink" href="#route-to-code-entity-mapping" title="Permanent link">&para;</a></h2>
<p>This diagram maps public routes to their corresponding code entities in the system:</p>
<pre class="mermaid"><code>flowchart TD

R1["GET /&lt;br&gt;[router.js:59-74]"]
R2["GET /login&lt;br&gt;[router.js:75-77]"]
R3["GET /registro&lt;br&gt;[router.js:78-80]"]
R4["POST /auth&lt;br&gt;[router.js:532-601]"]
R5["POST /register&lt;br&gt;[router.js:414-484]"]
R6["GET /set-lang/:lang&lt;br&gt;[router.js:398-407]"]
M1["limiter&lt;br&gt;authLimiter.js"]
M2["upload&lt;br&gt;multerConfig.js"]
M3["express-validator&lt;br&gt;body()"]
D1["jwt.verify()&lt;br&gt;jsonwebtoken"]
D2["jwt.sign()&lt;br&gt;jsonwebtoken"]
D3["bcrypt.hash()&lt;br&gt;bcryptjs"]
D4["bcrypt.compare()&lt;br&gt;bcryptjs"]
D5["db.query()&lt;br&gt;database/db.js"]
V1["views/index.ejs"]
V2["views/login.ejs"]
V3["views/register.ejs"]
T1["usuarios table&lt;br&gt;usuario, pass, rol, nombre, imagen"]

R1 --&gt; D1
R1 --&gt; V1
R2 --&gt; V2
R3 --&gt; V3
R4 --&gt; M1
R4 --&gt; D4
R4 --&gt; D5
R4 --&gt; D2
R4 --&gt; V2
R4 --&gt; T1
R5 --&gt; M2
R5 --&gt; M3
R5 --&gt; D3
R5 --&gt; D5
R5 --&gt; V3
R5 --&gt; T1
R6 --&gt; V1
R6 --&gt; V2
R6 --&gt; V3

subgraph subGraph4 ["Database Tables"]
    T1
end

subgraph subGraph3 ["View Templates"]
    V1
    V2
    V3
end

subgraph subGraph2 ["External Dependencies"]
    D1
    D2
    D3
    D4
    D5
end

subgraph subGraph1 ["Middleware Dependencies"]
    M1
    M2
    M3
end

subgraph subGraph0 ["Public Routes"]
    R1
    R2
    R3
    R4
    R5
    R6
end</code></pre>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L1-L607">src/router.js L1-L607</a></p>
<hr />
<h2 id="cookie-management">Cookie Management<a class="headerlink" href="#cookie-management" title="Permanent link">&para;</a></h2>
<p>All authentication-related routes interact with cookies for session management:</p>
<table>
<thead>
<tr>
<th>Route</th>
<th>Cookie Action</th>
<th>Cookie Name</th>
<th>Properties</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GET /</code></td>
<td>Read</td>
<td><code>token</code></td>
<td>JWT validation (optional)</td>
</tr>
<tr>
<td><code>POST /auth</code></td>
<td>Write</td>
<td><code>token</code></td>
<td>httpOnly, 1-hour expiry</td>
</tr>
<tr>
<td><code>GET /set-lang/:lang</code></td>
<td>Write</td>
<td><code>lang</code></td>
<td>httpOnly, 15-minute expiry</td>
</tr>
</tbody>
</table>
<p>The <code>token</code> cookie contains the JWT that encodes user identity and is used by protected routes. The <code>lang</code> cookie stores language preference for the i18n system.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L59-L74">src/router.js L59-L74</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L570-L574">src/router.js L570-L574</a></p>
<p><a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L403-L403">src/router.js L403</a></p>
<hr />
<h2 id="security-considerations">Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">&para;</a></h2>
<p>Public routes implement several security measures:</p>
<ol>
<li><strong>Rate Limiting:</strong> The <code>POST /auth</code> route uses the <code>limiter</code> middleware to prevent brute-force attacks <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L532-L532">src/router.js L532</a></li>
<li><strong>Password Hashing:</strong> All passwords are hashed with bcrypt using 8 salt rounds <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L453-L453">src/router.js L453</a></li>
<li><strong>HTTP-Only Cookies:</strong> JWT tokens are stored in HTTP-only cookies, preventing XSS attacks <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L571-L571">src/router.js L571</a></li>
<li><strong>Input Validation:</strong> Registration form validates all fields with express-validator <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L415-L428">src/router.js L415-L428</a></li>
<li><strong>JWT Expiration:</strong> Tokens expire after 1 hour, limiting compromise window <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L567-L567">src/router.js L567</a></li>
</ol>
<p>For comprehensive security documentation, see <a href="Security-Measures.html">Security Measures</a>.</p>
<p><strong>Sources:</strong> <a href="https://github.com/moichuelo/registro/blob/544abbcc/src/router.js#L414-L601">src/router.js L414-L601</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["content.code.copy"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>